# fly.toml app configuration file generated for spiff-backend on 2023-06-21T09:42:46+02:00
#
# See https://fly.io/docs/reference/configuration/ for information about how to use this file.
#
#https://documentation-git-fork-bogdaaamn-docs-fly-deplo-460c6b-strapijs.vercel.app/developer-docs/latest/setup-deployment-guides/deployment/hosting-guides/fly.html
#https://forum.strapi.io/t/fly-io-deployment/22438

app = "spiff-backend"
primary_region = "ams"

[[services]]
  internal_port = 80
  processes = ["app"]
  protocol = "tcp"
  script_checks = []


[[services.ports]]
  port = 80
  handlers = ["http"]
  force_https = true

[[services.ports]]
  port = 443
  handlers = ["tls", "http"]

#build time
#[build.args]

#runtime (non-sensitive) - fly.io secrets take precedence.
[env]
  PORT="80"
  APP_URL="https://spiff-backend.fly.dev"
  SUPABASE_API_URL="https://aljboewzouwkmsskqugr.supabase.co"
  SUPABASE_API_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFsamJvZXd6b3V3a21zc2txdWdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODcyNDM3MzIsImV4cCI6MjAwMjgxOTczMn0.BhY7PBup8Oqi5fs5_f8J4my6bpC1sD7-w6PHZT1RFT4"
  SUPABASE_BUCKET="strapi-uploads"
#  DATABASE_HOST="db.aljboewzouwkmsskqugr.supabase.co"
#  DATABASE_NAME="postgres"
#  DATABASE_USERNAME="postgres"
